# 需求文档

## 1. 项目概述

本项目旨在创建一个通用的后台管理基座项目，为多数业务提供稳定、高效、可扩展的基础支撑。项目将具备用户认证、权限管理、系统监控等一系列核心功能。

## 2. 功能需求

### 2.1. 用户登录认证 (User Authentication)

- **登录方式**:
  - [x] 用户名/密码
  - [x] 邮箱/密码
  - [x] 手机号/验证码
  - [x] 第三方登录 (如微信扫码，后期实现)
- **安全策略**:
  - [x] 密码复杂度要求 (最小长度、大小写字母、数字、特殊符号)
  - [x] 登录失败锁定机制 (达到设定次数后锁定账户)
- **会话管理**:
  - [x] 基于Token的会话管理 (JWT)
- **辅助功能**:
  - [x] 记住我
  - [x] 忘记密码 (通过手机短信和邮箱重置)

### 2.2. 权限管理 (Authorization)

- **权限模型**:
  - [x] RBAC (基于角色的访问控制)
- **权限粒度**:
  - [x] 按钮级 (如: 新增、编辑、删除)
  - [x] API接口级
- **角色管理**:
  - [x] 创建角色 (设置角色名称、描述、状态)
  - [x] 编辑角色 (修改角色信息)
  - [x] 删除角色 (删除未被使用的角色)
  - [x] 查询角色 (支持分页、搜索)
  - [x] 启用/禁用角色
  - [x] 为角色分配权限
- **菜单权限管理**:
  - [x] 多级菜单配置 (支持无限层级)
  - [x] 菜单基本信息 (名称、图标、路由、排序)
  - [x] 菜单可见性控制
  - [x] 菜单与API权限关联
  - [x] 按钮级权限配置 (新增、编辑、删除、查看等)
- **权限分配**:
  - [x] 提供可视化UI界面，方便管理员创建角色、分配权限
  - [x] 内置"超级管理员"角色，拥有所有权限且不可修改
  - [x] 权限树形结构展示
  - [x] 批量权限分配

### 2.3. 用户管理 (User Management)

- **用户属性**:
  - [x] 用户名
  - [x] 昵称
  - [x] 头像
  - [x] 邮箱
  - [x] 手机号
  - [x] 状态 (启用/禁用)
- **用户操作**:
  - [x] 管理员进行增、删、改、查、重置密码等操作
- **用户与角色关系**:
  - [x] 一对多 (一个用户可关联多个角色)

### 2.4. 文件上传下载 (File Management)

- **存储方式**:
  - [x] 本地对象存储 (MinIO)
  - [x] 云存储 (如: 阿里云OSS, 后期扩展)
- **功能**:
  - [x] 文件上传 (图片、文档等)
  - [x] 文件下载
  - [x] 文件列表管理
  - [x] 大文件分片上传/断点续传

### 2.5. 通知管理 (Notification)

- **通知类型**:
  - [x] 系统公告
  - [x] 站内信
- **推送方式**:
  - [x] WebSocket实时推送
  - [ ] 邮件推送 (后期实现)
  - [ ] 短信推送 (后期实现)

### 2.6. 系统管理 (System Configuration)

- **功能模块**:
  - [x] 菜单管理 (已在2.2中详细定义)
  - [x] 角色管理 (已在2.2中详细定义)
  - [x] 用户管理 (已在2.3中定义)
  - [x] 字典管理 (维护系统中常用的固定数据)
  - [x] 参数配置 (动态配置系统参数)

### 2.7. 日志管理 (Logging)

- **日志类型**:
  - [x] 操作日志 (记录用户操作)
  - [x] 登录日志 (记录用户登录登出)
  - [x] 系统日志 (记录系统运行异常)
- **功能**:
  - [x] 日志记录
  - [x] 日志查询与检索

### 2.8. 监控管理 (Monitoring)

- **监控范围**:
  - [x] 服务器状态 (CPU, 内存, 磁盘)
  - [x] JVM信息 (堆栈、GC等)
  - [x] 数据库连接池
  - [x] 在线用户监控

### 2.9. 数据统计 (Data Statistics)

- **统计指标**:
  - [x] 用户统计 (总用户数、新增用户、活跃用户)
  - [x] 登录统计 (登录次数、登录成功率)
  - [x] 操作统计 (各功能模块使用频率)
  - [x] 系统性能统计 (响应时间、错误率)
- **展示方式**:
  - [x] 仪表盘首页展示核心指标
  - [x] 图表可视化 (折线图、柱状图、饼图)
  - [x] 数据导出功能 (Excel、PDF)
  - [x] 自定义时间范围查询
- **统计维度**:
  - [x] 按日、周、月、年统计
  - [x] 实时数据与历史数据对比
  - [x] 趋势分析

### 2.10. 文件导入导出 (Import/Export)

- **导入功能**:
  - [x] 用户批量导入 (支持Excel文件导入用户信息)
  - [x] 角色批量导入 (支持Excel文件导入角色信息)
  - [x] 数据模板下载 (提供标准导入模板)
  - [x] 数据校验 (导入数据格式校验、重复性校验)
  - [x] 导入结果反馈 (成功/失败统计、错误信息提示)
- **导出功能**:
  - [x] 用户数据导出 (支持导出用户列表为Excel)
  - [x] 角色数据导出 (支持导出角色列表为Excel)
  - [x] 操作日志导出 (支持导出操作日志为Excel)
  - [x] 自定义导出 (支持选择导出字段和条件)
  - [x] 批量导出 (支持大数据量分批导出)
- **文件格式支持**:
  - [x] Excel格式 (.xlsx、.xls格式支持)
  - [x] CSV格式 (.csv格式支持)
  - [x] 文件大小限制 (单文件最大10MB)
  - [x] 并发控制 (限制同时导入导出任务数量)

## 3. 非功能性需求

### 3.1. 性能需求
- 系统首页和主要数据查询页面响应时间应在2秒以内。
- 系统应支持至少100个并发用户正常操作。

### 3.2. 安全需求
- 防止SQL注入、XSS、CSRF等常见Web攻击。
- 关键数据（如密码）在数据库中应加密存储。
- API接口应有严格的权限校验。

### 3.3. 可扩展性
- 系统应采用模块化设计，方便未来新增业务功能。
- 前后端分离架构，便于独立开发和部署。

---

*（需求文档已确认。接下来，我们将进入系统架构设计阶段。）*